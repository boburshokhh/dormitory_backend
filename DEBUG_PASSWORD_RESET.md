# –û—Ç–ª–∞–¥–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è

## –ü—Ä–æ–±–ª–µ–º–∞

–°–∏—Å—Ç–µ–º–∞ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–¥ –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–∞—Ä–æ–ª—è.

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### Backend:
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ (bcrypt ‚Üí verifyCode)
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω –ª–∏–º–∏—Ç –ø–æ–ø—ã—Ç–æ–∫ —Å 3 –¥–æ 5
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω rate limiting (2 –º–∏–Ω—É—Ç—ã –≤–º–µ—Å—Ç–æ 1)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### Frontend:
- ‚úÖ –£–±—Ä–∞–Ω–æ –∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –æ–∫–Ω–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–¥–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–ó–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥"
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## –î–æ–±–∞–≤–ª–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### Frontend:

- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–≤–æ–¥–∞ –∫–æ–¥–∞ –≤ –º–æ–¥–∞–ª–∫–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ API

### Backend:

- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–¥–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞ –≤ verifyCode
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ö—ç—à–µ–π

## –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

1. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î** (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª–∏):

```sql
CREATE UNIQUE INDEX IF NOT EXISTS verification_codes_contact_type_unique
ON verification_codes (contact, type);
```

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend**

3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è**:

   - –û—Ç–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—É –≤—Ö–æ–¥–∞
   - –ù–∞–∂–∞—Ç—å "–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?"
   - –í–≤–µ—Å—Ç–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π email
   - –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥ –Ω–∞ email
   - –í–≤–µ—Å—Ç–∏ –∫–æ–¥ –≤ —Ñ–æ—Ä–º—É

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏**:
   - –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12) - –ª–æ–≥–∏ frontend
   - –í –∫–æ–Ω—Å–æ–ª–∏ backend - –ª–æ–≥–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞

## –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:

### –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∫–æ–¥–∞:

```
üî¢ –ö–æ–¥ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è: 123456, —Ö—ç—à: abc123...
üìß –ö–æ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ user@example.com
```

### –ü—Ä–∏ –≤–≤–æ–¥–µ –∫–æ–¥–∞:

```
üî¢ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–æ–¥: "123456" (–¥–ª–∏–Ω–∞: 6)
üî¢ API: –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–æ–¥ "123456" –¥–ª—è email "user@example.com"
üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞: –≤–≤–µ–¥–µ–Ω–æ="123456", —Ö—ç—à –≤ –ë–î="abc123..."
üîç verifyCode: –≤–≤–µ–¥–µ–Ω–æ="123456", —Ö—ç—à –≤–≤–µ–¥–µ–Ω–Ω–æ–≥–æ="abc123...", —Ö—ç—à –≤ –ë–î="abc123..."
‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è: true
‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞: true
```

## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

### UX —É–ª—É—á—à–µ–Ω–∏—è:
- –ú–æ–¥–∞–ª–∫–∞ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –æ–∫–Ω–∞
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–¥–∞
- –ö–Ω–æ–ø–∫–∞ "–ó–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥" –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ rate limiting

### –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–∏–º–∏—Ç—ã:
- 5 –ø–æ–ø—ã—Ç–æ–∫ –≤–≤–æ–¥–∞ –∫–æ–¥–∞ (–≤–º–µ—Å—Ç–æ 3)
- 2 –º–∏–Ω—É—Ç—ã –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∫–æ–¥–∞ (–≤–º–µ—Å—Ç–æ 1)
- –ë–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ö–æ–¥ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ö—ç—à** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é hashCode
3. **–ö–æ–¥ –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö
4. **–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø –∫–æ–¥–∞** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø 'password_reset'

## –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ –∫–æ–¥–∞:

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã —É–¥–∞–ª–∏—Ç—å –≤—Å–µ console.log –∏–∑:

- `src/components/auth/modals/ForgotPasswordModal.vue`
- `src/services/api.js`
- `dormitory-backend/routes/auth.js`
- `dormitory-backend/services/notificationService.js`
